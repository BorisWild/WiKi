Установка Xray на macOS похожа на процесс установки на другие UNIX-подобные системы, такие как Linux. Она включает загрузку Xray, настройку конфигурационного файла и запуск программы через терминал.

### Шаги по установке Xray на macOS:

### 1. **Установка Homebrew (если он не установлен)**

Для начала установите **Homebrew** — менеджер пакетов для macOS, если он ещё не установлен. Откройте терминал и выполните команду:

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### 2. **Установка Xray через Homebrew**

Существует удобный способ установки Xray через Homebrew:

1. Добавьте репозиторий с Xray:

```bash
brew tap xtls/tap
```

2. Установите Xray:

```bash
brew install xray
```

### 3. **Создание конфигурационного файла**

Xray требует файла конфигурации в формате JSON. В macOS конфигурационные файлы обычно находятся в `/usr/local/etc/xray/`. Вам нужно создать файл `config.json`.

#### Шаг 1: Создайте папку для конфигурации (если её нет)

```bash
sudo mkdir -p /usr/local/etc/xray
```

#### Шаг 2: Создайте или отредактируйте файл конфигурации

Используйте текстовый редактор (например, `nano` или `vi`), чтобы создать или отредактировать конфигурационный файл:

```bash
sudo nano /usr/local/etc/xray/config.json
```

Пример конфигурационного файла для использования VLESS:

```json
{
  "inbounds": [
    {
      "port": 1080,
      "protocol": "socks",
      "settings": {
        "auth": "noauth",
        "udp": true,
        "ip": "127.0.0.1"
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "vless",
      "settings": {
        "vnext": [
          {
            "address": "188.166.110.123",
            "port": 443,
            "users": [
              {
                "id": "a6370488-60cd-4d5a-9b27-77d890f60b3b",
                "flow": "xtls-rprx-vision",
                "encryption": "none"
              }
            ]
          }
        ]
      },
      "streamSettings": {
        "network": "tcp",
        "security": "reality",
        "realitySettings": {
          "show": false,
          "fingerprint": "chrome",
          "serverName": "yahoo.com",
          "publicKey": "q0vV_RK7HqG5CMUIWwCtqTDVAhq2uagrTI3sIOONJx0",
          "shortId": "8068583d28105b",
          "spiderX": "/"
        }
      }
    }
  ]
}
```

#### Шаг 3: Сохраните изменения

После внесения изменений сохраните файл и выйдите из редактора (если используете `nano`, нажмите **Ctrl + X**, затем **Y** и **Enter**).

### 4. **Запуск Xray**

После того как конфигурационный файл настроен, запустите Xray:

```bash
sudo xray -config /usr/local/etc/xray/config.json
```

Если конфигурация правильная, Xray начнет работать, используя указанные параметры.

### 5. **Настройка браузера для использования прокси**

Теперь, когда Xray запущен и работает как SOCKS-прокси, вам нужно настроить браузер (или систему), чтобы использовать этот прокси.

#### Настройка Firefox:

1. Откройте **Настройки** -> **Сеть** -> **Настроить прокси**.
2. Выберите **Ручная настройка прокси**.
3. В поле **SOCKS Host** введите `127.0.0.1`, в поле **Port** — `1080`.
4. Выберите вариант **SOCKS5**.
5. Сохраните изменения.

#### Настройка Chrome:

Для Chrome можно использовать параметр командной строки для запуска через прокси:

1. Закройте Chrome.
2. Откройте терминал и выполните:

```bash
open -a "Google Chrome" --args --proxy-server="socks5://127.0.0.1:1080"
```

### 6. **Проверка работы**

Зайдите на сайт для проверки вашего IP-адреса (например, [whatismyip.com](https://whatismyip.com)), чтобы убедиться, что трафик проходит через прокси, и ваш IP-адрес изменен.

### 7. **Остановка Xray**

Чтобы остановить Xray, вы можете нажать **Ctrl + C** в терминале, если Xray был запущен напрямую. Если хотите остановить его позже, найдите процесс Xray и завершите его:

```bash
ps aux | grep xray
sudo kill -9 <номер процесса>
```

### 8. **Автоматизация запуска (опционально)**

Если вы хотите, чтобы Xray запускался автоматически при старте системы, можно добавить команду запуска в файл `~/.bash_profile` или создать скрипт автозагрузки.

Теперь Xray установлен и настроен на вашем Mac, и вы можете использовать его для проксирования интернет-трафика.